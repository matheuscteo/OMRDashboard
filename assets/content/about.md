# OMR Reviews Frontend Challenge

## Starting from the Start (MVP)
_(From 12:00 — took ~35 min)_


_I’m used to taking extensive notes in Obsidian. These are the raw notes (no AI for content except for grammar and structure improvement). A summary might be provided later. Since it’s Sunday and I want to do this in a chill way, time is being tracked via a method I invented: using a LoFi YouTube video (pause on stop and play on start). I added the starting timestamps for consistency so breaks won't count_

---

### Intro & Mission


The challenge consists of a web application with two pages:

- An **About** page where I can share my notes and reasoning for the app development.  
- A **Landing** page showing a plot that displays aggregated data from an AI scrape of customer conversations evaluating HubSpot Marketing Hub.

So: **Coding Notes + Dashboard**.

The data can be related to one of three different questions, and the user should be able to filter the aggregation displayed using at least one of three metadata entries. I’ll start by understanding the data and possible filter options.

I’ll ask AI to give me some statistics on the data. The description mentions 15K conversations, but the actual data is already pre-aggregated — about 300 data points, more or less evenly distributed over the 3 questions. The pattern across different questions appears uniform.

Each data point contains:

- **Meta information** — who mentioned it (`companySize`, `industry`) and when (`quarter`).
- **Values to plot** — always a `responseValue` (string) and the number of responses.

This means: meta for filtering/further aggregation, and `string` vs `number` for plotting.

`string` vs `number` suggests a bar plot. I’d use a horizontal bar chart because it feels more “Who is winning?”-like. I see this pattern often in political surveys, so it might fit. Sorting will be required, but with only 4–6 categories, that’s no problem — and the insight gained when “most mentioned” comes first is worth it. I expect the sorting code to be small, and the net gain to be 100% worth it.

---

### Choosing Question & Filter

The MVP requires starting with only **one question** and **one filter**. Since the data structure is uniform, the decision is personal.

My preference: **Q1 > Q3 > Q2**. Q1 feels most relatable for everyone, so the “wow” factor is immediate. For filtering, I’d start with **Industry**, for similar reasons.

---

### Data Fetching

Two options were given:

- Static import  
- Fetch approach

Since the data is static, I’ll use the recommended **static import**.  
If there’s time, I might explore how `useFetch` behaves.

---

### Summary of Decisions

- Question: **Q1** (~100 data points)  
- Filter: **Industry**

**Data flow**:
```
Get data → Apply filter (if any) → Aggregate numResponses for each unique responseValue → Order results → Plot
```

---

### Stack Choices

- **Nuxt 3** + **Vue 3** + **Tailwind module** : I'm in.
- **Chart.js** — industry standard, v4 with smaller bundle size. I’m in.  
- **PandasJS** — tempting for familiarity with Python pandas, but hasn’t been updated in 8 years. Aggregation/sorting is simple enough with vanilla JS. Avoiding this dependency for now for the sake of future Matheus.

---

### About Page Note

Since I take notes in Obsidian, it would be nice to automate parsing the About page to HTML. Nuxt’s Content module could work, but for a single static document, that feels like overkill. I’ll leave this for later and parse externally if needed.

---

## Block One — Foundation

_(From 12:49 — took ~1.5 h)_

- Set up the repo with dependencies and started it.  
- No Tailwind config by default → added a simple one. Tested Tailwind, works fine.  
- Created initial component/page structure:
  - `NavBar` — minimal navigation  
  - `Content` — for the About section  
  - `FilterOptions` and `BarChart` — for the landing page  
  - Added a simple default layout for potential future expansion and better organization.
- Removed autogenerated Nuxt boilerplate. Added data in the root folder (static fetching doesn’t require `/public`).  
- Static data import works. Added a composable `useHubSpotData` in case I switch to `useFetch` later. Mock loading/error states added for client rendering control.  
- For a reusable `BarChart` component, I’ll add props for the data/metadata needed to plot. Used provided types but adjusted the metadata interface to match `data.json`.  
- TS was complaining about mismatches — updated interfaces accordingly. Two metadata entries had to be removed → be careful.  
- Will commit now. Props for `BarChart` will be added after defining aggregation logic to stay type-safe.  
- Aggregation + filtering should be handled together. This matches the pandas script approach. Asked AI for a vanilla TS snippet — read and verified it, seems fine. Added `FilterState` interface in `types.ts`.  
- Data aggregation works, and passing props from `index.vue` to `BarChart` works. Asked AI for a minimal Chart.js bar chart snippet → tested, works. Cleaned unnecessary parts. Moved title to a separate element.  
- **Main state strategy**: Keep filter and data states in `index.vue`, pass to `BarChart` as props. Bind filter state to `FilterOptions` so it can mutate and trigger re-aggregation in the parent.

---

## Block Two — Core Functionality

_(From 16:15 — took ~1.5 h)_

- Added `questionId` ref, `filters` state, and computed values:
  - `unprocessedQuestion` — filters by question type  
  - `chartData` — processed and ready to plot
- Passed data to `FilterOptions` and implemented there.  
- **Blocker**: Tried custom `v-model` binding for filters but ran into complexity → switched to `emit` and handled state in parent.  
- **Blocker**: Data reprocessed in logs but plot not updating → forgot to make prop data computed in `BarChart`.  
- **Blocker**: While making `handleUpdateFilters` generic for any category, strict typing caused issues. Chose to relax typing:
```ts
export interface FilterState {
  companySize: string[];
  industry: string[];
  quarter: string[];
}
```
  - Trade-off: fewer compile-time checks, simpler and more maintainable code.
- Now filtering works — Q1 + industry updates are visible in the chart.

---

## Block Three — Improve UI Aesthetics

_(From 18:00 — took ~45 min)_

- Initially thought no selection should be refactored to show nothing, but decided:
  - No selection ⇒ show all data (better UX).
- Added basic styling — was too barebones before.  
- Thanks to modular `FilterOptions`, easily added more filters for all categories.

---

## Block Four — Last Testing & Parse the About Page

_(From 19:00 — took ~30min)_

- Time is up. Won’t automate Markdown → HTML parsing now.  
- Will do a raw parse of this document via AI and add an AI-generated stylesheet.  
- Considering the About section’s **content** more important than its aesthetics.
- AI wasn't parsing the markdown properly so I added a markdown-it dependency. Kept the styles AI generated them because its out of scope rn. 
- Now I'll commit the changes, take a walk and push it so I can send it to Kaya.

---

## What to Do Next?

- Would add the rest of the data (q2 and q3). 
- Atomatic MD parsing. 
- Would try the realistic approach using useFetch
- Would add responsiveness (perhaps the filters at the aside can be hidden in a drawer for mobile)
- Would add a11y
- Overall aesthetics, animation and play more of chartJs feats so the data looks more compelling 